@if (isOpen()) {
<div
  class="fixed inset-0 bg-black/50 flex justify-center items-center z-[1000] animate-[fadeIn_0.2s_ease-in-out]"
  (click)="onBackdropClick($event)"
  [attr.aria-hidden]="!isOpen()"
  role="dialog"
  aria-modal="true"
  [attr.aria-labelledby]="'modal-title-' + title()"
>
  <div
    class="bg-white rounded-lg shadow-2xl max-h-[90vh] w-[95vw] flex flex-col overflow-hidden animate-[slideUp_0.3s_ease-out]"
    [class]="' ' + sizeClass()"
  >
    <div class="flex flex-col h-full">
      <!-- Modal Header -->
      <div class="flex justify-between items-center px-6 py-5 border-b border-gray-200">
        <h2 class="m-0 text-2xl font-semibold text-gray-900" [id]="'modal-title-' + title()">
          {{ title() }}
        </h2>
        @if (showCloseButton()) {
        <button
          type="button"
          class="bg-transparent border-0 text-2xl leading-none text-gray-500 cursor-pointer p-1 flex items-center justify-center w-8 h-8 rounded transition-all hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
          (click)="close()"
          aria-label="Close modal"
        >
          <span aria-hidden="true">&times;</span>
        </button>
        }
      </div>

      <!-- Modal Body with content projection -->
      <div class="px-6 py-6 overflow-y-auto flex-1 text-gray-700">
        <ng-content></ng-content>
      </div>

      <!-- Modal Footer with content projection -->
      <div class="px-6 py-4 border-t border-gray-200 flex justify-end gap-3">
        <ng-content select="[footer]"></ng-content>
      </div>
    </div>
  </div>
</div>
}